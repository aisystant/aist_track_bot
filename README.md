# AI System Track (@aist_track_bot) — 14-дневный марафон систематического обучения

**Миссия**: Помочь участникам трансформироваться из случайных учеников в систематических учеников, которые собраны и удерживают внимание на своём развитии.

Telegram-бот для проведения 14-дневного марафона от [Мастерской инженеров-менеджеров](https://system-school.ru/).

---

## Для пользователей: Как пройти марафон

### Быстрый старт

1. Найдите бота в Telegram: [@aist_track_bot](https://t.me/aist_track_bot)
2. Напишите `/start`
3. Пройдите онбординг (2 минуты)
4. Выберите дату начала марафона
5. Получайте материалы каждый день в выбранное время

### Онбординг (что спросит бот)

| Шаг | Вопрос | Зачем |
|-----|--------|-------|
| 1 | Как тебя зовут? | Персонализация обращения |
| 2 | Чем занимаешься? | Примеры из твоей сферы |
| 3 | Что тебе интересно? | Связь материала с интересами |
| 4 | Что для тебя важно в жизни? | Мотивационные блоки |
| 5 | Что хочешь изменить? | Фокус на твоих целях |
| 6 | Сколько минут готов уделять? | Длина материала (5/15/25 мин) |
| 7 | В какое время присылать? | Расписание напоминаний |
| 8 | Когда начнём? | Дата старта марафона |

### Команды бота

| Команда | Описание |
|---------|----------|
| `/start` | Начать марафон (онбординг) |
| `/learn` | Получить следующую тему |
| `/progress` | Посмотреть прогресс по дням |
| `/profile` | Показать профиль |
| `/update` | Обновить настройки профиля |
| `/help` | Справка по командам |

### Как устроен один день марафона

```
┌─────────────────────────────────────────────────────────────┐
│  09:00  Бот присылает материал дня                          │
│         (или в выбранное тобой время)                       │
└─────────────────────────┬───────────────────────────────────┘
                          ▼
┌─────────────────────────────────────────────────────────────┐
│  📚 ТЕОРИЯ (5/15/25 минут)                                   │
│  • Персонализированный текст по теме дня                    │
│  • Адаптирован под твой профиль и интересы                  │
│  • Вопрос для размышления в конце                           │
└─────────────────────────┬───────────────────────────────────┘
                          ▼
┌─────────────────────────────────────────────────────────────┐
│  💬 ОТВЕТ НА ВОПРОС                                          │
│  • Напиши ответ (минимум 20 символов)                       │
│  • Ответ не проверяется — это для твоей рефлексии           │
│  • После ответа можно взять бонусный вопрос посложнее       │
└─────────────────────────┬───────────────────────────────────┘
                          ▼
┌─────────────────────────────────────────────────────────────┐
│  🔧 ПРАКТИКА                                                 │
│  • Задание с конкретным рабочим продуктом (РП)              │
│  • Примеры: текст, список, схема, чек-лист                  │
│  • Напиши название созданного РП (минимум 3 символа)        │
└─────────────────────────┬───────────────────────────────────┘
                          ▼
┌─────────────────────────────────────────────────────────────┐
│  ✅ ДЕНЬ ЗАСЧИТАН                                            │
│  • Прогресс обновлён                                        │
│  • /learn — следующая тема (если есть)                      │
└─────────────────────────────────────────────────────────────┘
```

### Система уровней сложности (Таксономия Блума)

Вопросы адаптируются под твой уровень:

| Уровень | Название | Тип вопросов |
|---------|----------|--------------|
| 🔵 Сложность-1 | Понимаю | Объясни концепцию своими словами |
| 🟡 Сложность-2 | Применяю | Как применишь это в своей работе? |
| 🔴 Сложность-3 | Анализирую | Предложи решение, оцени подходы |

- Начинаешь с уровня 1
- После 7 тем автоматически переходишь на следующий уровень
- После ответа можно взять **бонусный вопрос** на уровень выше

### Правила прохождения

| Правило | Значение |
|---------|----------|
| Тем в день (норма) | 2 (теория + практика) |
| Тем в день (максимум) | 4 (можно нагнать 1 день) |
| Идти вперёд | Нельзя раньше дня марафона |
| Пропуск | Темы прошлых дней остаются доступны |

### Напоминания

- **В указанное время** — автоматическая отправка материала дня
- **+1 час** — первое напоминание, если не начал
- **+3 часа** — последнее напоминание

### Что можно изменить в профиле (`/update`)

- Имя, занятие, интересы
- Что важно в жизни / что хочешь изменить
- Время на тему (5, 15 или 25 минут)
- Время напоминания
- Уровень сложности вопросов
- Дату старта марафона

---

## Структура марафона

### Неделя 1: От диагностики к практике

| День | Теория | Практика (РП) |
|------|--------|---------------|
| 1 | Четыре состояния: от застревания к развитию | Моё текущее состояние |
| 2 | Ловушка «жизни полегче» | Первый слот саморазвития |
| 3 | Вечерняя ловушка и поставка впечатлений | Трекер слотов + новое впечатление |
| 4 | Информационный шум и потеря фокуса | Мимолётные заметки |
| 5 | Цикл «перегрузка — выгорание — откат» | Стоп-моменты |
| 6 | Почему советы не работают | Гипотеза на неделю |
| 7 | Что такое личный прогресс | Итоги недели + Похвала себе |

### Неделя 2: От практики к системе

| День | Теория | Практика (РП) |
|------|--------|---------------|
| 8 | Непродуктивные мемы о саморазвитии | Рабочий продукт из слота |
| 9 | Героизм vs систематичность | ИИ как усиление |
| 10 | Почему одной мотивации недостаточно | Моё минимальное время |
| 11 | Обучение как инженерия себя | Мой персональный чек-лист стоп-момента |
| 12 | Собранность и экзокортекс | Мои продуктивные мемы |
| 13 | Агентность: от реактивного к проактивному | Я как система |
| 14 | Время созидателей | План на месяц после марафона |

### Целевая аудитория

Четыре состояния: три состояния застревания и целевое состояние развития:
- **Хаос** — внимание разбросано, много незавершённых дел
- **Тупик** — стабильность без роста, "день сурка"
- **Поворот** — хочется перемен, но страшно менять
- **Развитие** — есть ясность, агентность, движение (целевое состояние)

---

## Для разработчиков: Как развернуть бота

### Архитектура

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Telegram      │────▶│   Bot (Python)  │────▶│   PostgreSQL    │
│   Пользователь  │◀────│   aiogram 3.x   │◀────│   База данных   │
└─────────────────┘     └────────┬────────┘     └─────────────────┘
                                 │
                    ┌────────────┼────────────┐
                    ▼            ▼            ▼
           ┌─────────────┐ ┌──────────┐ ┌──────────────┐
           │ Claude API  │ │ MCP      │ │ MCP          │
           │ Генерация   │ │ Guides   │ │ Knowledge    │
           │ контента    │ │ (search) │ │ (search)     │
           └─────────────┘ └──────────┘ └──────────────┘
```

### Технологический стек

| Компонент | Технология |
|-----------|------------|
| Бот | Python 3.11 + aiogram 3.x |
| AI-движок | Anthropic Claude API (claude-sonnet-4) |
| База данных | PostgreSQL |
| MCP-серверы | Cloudflare Workers |
| Хостинг | Railway / Render / VPS |

### Быстрый запуск на Railway (15 минут)

#### Шаг 1: Создать Telegram-бота

1. Откройте [@BotFather](https://t.me/BotFather)
2. Отправьте `/newbot`
3. Введите имя и username
4. **Скопируйте токен**: `7123456789:AAHxxxxx...`

#### Шаг 2: Получить Anthropic API ключ

1. Зайдите на [console.anthropic.com](https://console.anthropic.com)
2. Перейдите в **Settings → API Keys**
3. Нажмите **Create Key**
4. **Скопируйте ключ**: `sk-ant-api03-xxxxx...`

> Стоимость: ~$3-5 на 1000 генераций тем

#### Шаг 3: Развернуть на Railway

1. Форкните этот репозиторий
2. Зайдите на [railway.app](https://railway.app)
3. **New Project → Deploy from GitHub repo**
4. Выберите форкнутый репозиторий
5. Добавьте переменные окружения:

| Переменная | Значение |
|------------|----------|
| `TELEGRAM_BOT_TOKEN` | Токен из шага 1 |
| `ANTHROPIC_API_KEY` | Ключ из шага 2 |
| `DATABASE_URL` | Автоматически (добавьте PostgreSQL) |

6. Deploy!

### Локальный запуск

```bash
# Клонировать
git clone https://github.com/aisystant/aist_track_bot
cd aist_track_bot

# Виртуальное окружение
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или: venv\Scripts\activate  # Windows

# Зависимости
pip install -r requirements.txt

# Переменные окружения
cp .env.example .env
# Отредактируйте .env

# Запуск
python bot.py
```

### Переменные окружения

| Переменная | Обязательно | Описание |
|------------|-------------|----------|
| `TELEGRAM_BOT_TOKEN` | Да | Токен от @BotFather |
| `ANTHROPIC_API_KEY` | Да | Ключ API Anthropic |
| `DATABASE_URL` | Да | URL PostgreSQL |
| `MCP_URL` | Нет | URL MCP Guides (по умолчанию: guides-mcp.aisystant.workers.dev) |
| `KNOWLEDGE_MCP_URL` | Нет | URL MCP Knowledge (по умолчанию: knowledge-mcp.aisystant.workers.dev) |

### MCP интеграция

Бот использует два MCP-сервера для обогащения контента:

| MCP | Инструмент | Описание |
|-----|------------|----------|
| **Guides** | `semantic_search` | Руководства Aisystant — базовые материалы |
| **Knowledge** | `search` | Индекс знаний — актуальные посты и статьи |

```
┌─────────────────────────────────────────────────────────────┐
│                 Генерация контента темы                     │
└───────────────────────────┬─────────────────────────────────┘
                            │
            ┌───────────────┴───────────────┐
            ▼                               ▼
┌───────────────────────┐       ┌───────────────────────┐
│   MCP-Guides          │       │   MCP-Knowledge       │
│   semantic_search()   │       │   search()            │
│   Базовые руководства │       │   Свежие посты        │
└───────────┬───────────┘       └───────────┬───────────┘
            │                               │
            └───────────────┬───────────────┘
                            ▼
              ┌─────────────────────────┐
              │   Объединение контекста │
              │   Knowledge + Guides    │
              └─────────────┬───────────┘
                            ▼
              ┌─────────────────────────┐
              │     Claude API          │
              │   + Профиль стажёра     │
              │   = Персональный текст  │
              └─────────────────────────┘
```

### Структура проекта

```
aist_track_bot/
├── bot.py                    # Основной код бота
├── knowledge_structure.yaml  # Структура 28 тем марафона
├── requirements.txt          # Python зависимости
├── .env.example              # Пример переменных окружения
└── README.md                 # Документация
```

### База данных

**Таблица `interns`** — профили участников:
- Персональные данные (имя, занятие, интересы, цели)
- Прогресс (текущая тема, пройденные темы, уровень Блума)
- Настройки (время, продолжительность)
- Статус марафона (дата старта, темы за сегодня)

**Таблица `reminders`** — запланированные напоминания

**Таблица `answers`** — ответы на вопросы

### Обновление бота после изменений

После push в репозиторий:

| Платформа | Действие |
|-----------|----------|
| Railway | Автоматический редеплой |
| Render | Автоматический редеплой |
| VPS | `git pull && systemctl restart bot` |

---

## Лицензия

MIT

## Контрибьютинг

PR приветствуются!

Замечания и предложения: [@tserentserenov](https://t.me/tserentserenov)

---

Сделано [Мастерской инженеров-менеджеров](https://system-school.ru/) | [Aisystant](https://aisystant.com)
