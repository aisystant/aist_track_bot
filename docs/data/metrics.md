# –ú–µ—Ç—Ä–∏–∫–∏

> –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏, –∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞.

---

## –ú–µ—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –§–æ—Ä–º—É–ª–∞ | –ü—Ä–æ—Ü–µ—Å—Å |
|---------|----------|---------|---------|
| **–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏ (–Ω–µ–¥–µ–ª—è)** | `activity_log` | `COUNT DISTINCT activity_date WHERE date > NOW() - 7 days` | P-04 |
| **–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏ (–≤—Å–µ–≥–æ)** | `interns.active_days_total` | –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –¥–µ–Ω—å | P-01 |
| **–¢–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è** | `interns.active_days_streak` | +1 –µ—Å–ª–∏ –≤—á–µ—Ä–∞ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω, –∏–Ω–∞—á–µ 1 | P-01 |
| **–†–µ–∫–æ—Ä–¥ —Å–µ—Ä–∏–∏** | `interns.longest_streak` | `MAX(streak)` –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è | P-01 |

---

## –ú–µ—Ç—Ä–∏–∫–∏ –ú–∞—Ä–∞—Ñ–æ–Ω–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –§–æ—Ä–º—É–ª–∞ | –ü—Ä–æ—Ü–µ—Å—Å |
|---------|----------|---------|---------|
| **–î–µ–Ω—å –ú–∞—Ä–∞—Ñ–æ–Ω–∞** | `interns.marathon_start_date` | `(today - marathon_start_date).days + 1` | P-04 |
| **–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ–º** | `interns.completed_topics` | `len(completed_topics)` | ‚Äî |
| **–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –¥–Ω–∏** | –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è | `COUNT –¥–Ω–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'completed'` | P-04 |
| **–û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ** | –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è | `marathon_day - completed_days` | P-04 |
| **–†–∞–±–æ—á–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã** | `answers` | `COUNT WHERE answer_type = 'work_product'` | P-04 |
| **–ë–æ–Ω—É—Å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** | `answers` | `COUNT WHERE answer_type = 'bonus_answer'` | P-04 |

---

## –ú–µ—Ç—Ä–∏–∫–∏ –õ–µ–Ω—Ç—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –§–æ—Ä–º—É–ª–∞ | –ü—Ä–æ—Ü–µ—Å—Å |
|---------|----------|---------|---------|
| **–î–∞–π–¥–∂–µ—Å—Ç—ã** | `feed_sessions` | `COUNT WHERE status = 'completed'` | P-04 |
| **–§–∏–∫—Å–∞—Ü–∏–∏** | `answers` | `COUNT WHERE answer_type = 'fixation'` | P-04 |
| **–¢–µ–º—ã –Ω–µ–¥–µ–ª–∏** | `feed_weeks.topics` | JSONB –º–∞—Å—Å–∏–≤ | ‚Äî |

---

## –ê–≥—Ä–µ–≥–∞—Ü–∏–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

### –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

–ü–µ—Ä–∏–æ–¥: –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ ‚Üí —Å–µ–≥–æ–¥–Ω—è

| –ú–µ—Ç—Ä–∏–∫–∞ | SQL |
|---------|-----|
| –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏ | `SELECT COUNT(DISTINCT activity_date) FROM activity_log WHERE activity_date >= date_trunc('week', NOW())` |
| –†–∞–±–æ—á–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã | `SELECT COUNT(*) FROM answers WHERE answer_type = 'work_product' AND created_at >= date_trunc('week', NOW())` |

### –ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç

–ü–µ—Ä–∏–æ–¥: –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Üí —Å–µ–≥–æ–¥–Ω—è

| –ú–µ—Ç—Ä–∏–∫–∞ | SQL |
|---------|-----|
| –î–Ω–µ–π —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | `NOW() - created_at` |
| –í—Å–µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö | `active_days_total` |

---

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

```
–î–µ–Ω—å –ú–∞—Ä–∞—Ñ–æ–Ω–∞: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 12/28
–ù–µ–¥–µ–ª—è 1:      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 14/14 ‚úÖ
–ù–µ–¥–µ–ª—è 2:      ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 4/14
```

### –°—Ç–∞—Ç—É—Å—ã –¥–Ω–µ–π

| –ò–∫–æ–Ω–∫–∞ | –£—Å–ª–æ–≤–∏–µ |
|--------|---------|
| ‚úÖ | `topics_completed == 2` |
| üîÑ | `topics_completed == 1` |
| üìç | `topics_completed == 0 AND day_available` |
| üîí | `day > current_day` |

---

## –°–≤—è–∑—å —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

| –ü—Ä–æ—Ü–µ—Å—Å | –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ |
|---------|-------------------|
| P-01 –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | streak, active_days |
| P-04 –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ |

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| 2026-01-23 | –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
| 2026-01-25 | –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ ¬´–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –¥–Ω–∏¬ª –∏ ¬´–û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ¬ª, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ ¬´–î–µ–Ω—å –ú–∞—Ä–∞—Ñ–æ–Ω–∞¬ª |
