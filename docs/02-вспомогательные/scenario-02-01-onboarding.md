# 02.01 –°—Ü–µ–Ω–∞—Ä–∏–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

> –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (8 —à–∞–≥–æ–≤).

---

## –û–±–∑–æ—Ä

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ | `/start` |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ | 8 + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ |
| –†–µ–∑—É–ª—å—Ç–∞—Ç | –ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –£—á–µ–Ω–∏–∫–∞ |

---

## 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (–®–∞–≥ 0)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ü—Ä–∏ `/start` –±–æ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –ø–æ `language_code` –∏–∑ Telegram:

| –ö–æ–¥ Telegram | –Ø–∑—ã–∫ –±–æ—Ç–∞ |
|--------------|-----------|
| `ru` | –†—É—Å—Å–∫–∏–π |
| `en` | English |
| `es` | Espa√±ol |
| `uk`, `be`, `kk` | –†—É—Å—Å–∫–∏–π (–±–ª–∏–∑–∫–∏–µ —è–∑—ã–∫–∏) |
| `pt` | Espa√±ol (–ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π ‚Üí –∏—Å–ø–∞–Ω—Å–∫–∏–π) |
| –û—Å—Ç–∞–ª—å–Ω—ã–µ | English (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |

### –î–≤—É—è–∑—ã—á–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

–ï—Å–ª–∏ —è–∑—ã–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö (EN + RU).

---

## 2. –ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤

### –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]                        [–ë–æ—Ç]

/start ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
                                      ‚Üì
                                      –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?"
                                      FSM: waiting_for_name

–ò–º—è (—Ç–µ–∫—Å—Ç) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è, {name}!"
                                      "–ß–µ–º —Ç—ã –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è?"
                                      FSM: waiting_for_occupation

–ó–∞–Ω—è—Ç–∏–µ (—Ç–µ–∫—Å—Ç) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ö–∞–∫–∏–µ —É —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —Ö–æ–±–±–∏?"
                                      FSM: waiting_for_interests

–ò–Ω—Ç–µ—Ä–µ—Å—ã (—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ ,) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –≤–∞–∂–Ω–æ –≤ –∂–∏–∑–Ω–∏?"
                                      FSM: waiting_for_motivation

–ú–æ—Ç–∏–≤–∞—Ü–∏—è (—Ç–µ–∫—Å—Ç) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å?"
                                      FSM: waiting_for_goals

–¶–µ–ª–∏ (—Ç–µ–∫—Å—Ç) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –Ω–∞ –æ–¥–Ω—É —Ç–µ–º—É?"
                                      [‚ö° 5 –º–∏–Ω] [üïë 15 –º–∏–Ω] [üïì 25 –º–∏–Ω]
                                      FSM: waiting_for_study_duration

–ö–Ω–æ–ø–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–í–æ —Å–∫–æ–ª—å–∫–æ –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å?"
                                      "–§–æ—Ä–º–∞—Ç: –ß–ß:–ú–ú (—á–∞—Å–æ–≤–æ–π –ø–æ—è—Å: –ú–æ—Å–∫–≤–∞)"
                                      FSM: waiting_for_schedule

–í—Ä–µ–º—è (–ß–ß:–ú–ú) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                                      "–ö–æ–≥–¥–∞ –Ω–∞—á–Ω—ë–º –º–∞—Ä–∞—Ñ–æ–Ω?"
                                      [üöÄ –°–µ–≥–æ–¥–Ω—è] [üìÖ –ó–∞–≤—Ç—Ä–∞] [üìÖ –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞]
                                      FSM: waiting_for_start_date

–ö–Ω–æ–ø–∫–∞ –¥–∞—Ç—ã ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –°–≤–æ–¥–∫–∞: –ü—Ä–æ—Ñ–∏–ª—å
                                      "üìã –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å:"
                                      "{–≤—Å–µ –¥–∞–Ω–Ω—ã–µ}"
                                      [–î–∞] [üîÑ]
                                      FSM: confirming_profile

"–î–∞" ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ –°–ª—É–∂–µ–±–Ω–æ–µ: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
                                      "üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞—Ä–∞—Ñ–æ–Ω!"
                                      [–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å] [–ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é]
                                      FSM: cleared
```

---

## 3. –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

### –®–∞–≥ 1: –ò–º—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_name` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | `.strip()` |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `name`, `language` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É—á–µ–Ω–∏–∫–æ–º.
–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?
```

### –®–∞–≥ 2: –ó–∞–Ω—è—Ç–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_occupation` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | `.strip()` |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `occupation` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è, {name}!

–ß–µ–º —Ç—ã –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è?
_–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥, —Å—Ç—É–¥–µ–Ω—Ç_
```

### –®–∞–≥ 3: –ò–Ω—Ç–µ—Ä–µ—Å—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_interests` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç (—á–µ—Ä–µ–∑ `,` –∏–ª–∏ `;`) |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | –ü–∞—Ä—Å–∏–Ω–≥ –≤ –º–∞—Å—Å–∏–≤ |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `interests` (JSON) |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
–ö–∞–∫–∏–µ —É —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —Ö–æ–±–±–∏?
_–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: –≥–æ–ª—å—Ñ, —á—Ç–µ–Ω–∏–µ, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è_
_–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –±–ª–∏–∑–∫–∏–µ —Ç–µ–±–µ –ø—Ä–∏–º–µ—Ä—ã._
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
```python
interests = [i.strip() for i in text.replace(',', ';').split(';') if i.strip()]
# "–≥–æ–ª—å—Ñ, —á—Ç–µ–Ω–∏–µ" ‚Üí ["–≥–æ–ª—å—Ñ", "—á—Ç–µ–Ω–∏–µ"]
```

### –®–∞–≥ 4: –ú–æ—Ç–∏–≤–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_motivation` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | `.strip()` |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `motivation` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
*–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –≤–∞–∂–Ω–æ –≤ –∂–∏–∑–Ω–∏?*
_–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏._
```

### –®–∞–≥ 5: –¶–µ–ª–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_goals` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | `.strip()` |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `goals` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
*–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏?*
_–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª —Å —Ç–≤–æ–∏–º–∏ —Ü–µ–ª—è–º–∏._
```

### –®–∞–≥ 6: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_study_duration` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –ö–Ω–æ–ø–∫–∏ |
| –í–∞—Ä–∏–∞–Ω—Ç—ã | 5, 15, 25 –º–∏–Ω—É—Ç |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `study_duration` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
–°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≥–æ—Ç–æ–≤ —É–¥–µ–ª—è—Ç—å –æ–¥–Ω–æ–π —Ç–µ–º–µ?

[‚ö° 5 –º–∏–Ω—É—Ç] [üïë 15 –º–∏–Ω—É—Ç] [üïì 25 –º–∏–Ω—É—Ç]
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

| –ö–Ω–æ–ø–∫–∞ | Callback | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|----------|
| ‚ö° 5 –º–∏–Ω—É—Ç | `duration_5` | –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä (~500 —Å–ª–æ–≤) |
| üïë 15 –º–∏–Ω—É—Ç | `duration_15` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ (~1500 —Å–ª–æ–≤) |
| üïì 25 –º–∏–Ω—É—Ç | `duration_25` | –ü–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ (~2500 —Å–ª–æ–≤) |

### –®–∞–≥ 7: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_schedule` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –¢–µ–∫—Å—Ç (–ß–ß:–ú–ú) |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | 0-23 —á–∞—Å—ã, 0-59 –º–∏–Ω—É—Ç—ã |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `schedule_time` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
–í–æ —Å–∫–æ–ª—å–∫–æ –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –æ –Ω–æ–≤–æ–π —Ç–µ–º–µ?

_–§–æ—Ä–º–∞—Ç: –ß–ß:–ú–ú (–Ω–∞–ø—Ä–∏–º–µ—Ä 09:00). –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: –ú–æ—Å–∫–≤–∞ (UTC+3)_
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
```python
try:
    h, m = map(int, text.strip().split(":"))
    if not (0 <= h <= 23 and 0 <= m <= 59):
        raise ValueError
    normalized = f"{h:02d}:{m:02d}"  # "9:5" ‚Üí "09:05"
except:
    # –û—à–∏–±–∫–∞: "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ (–ß–ß:–ú–ú)"
```

### –®–∞–≥ 8: –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ | `waiting_for_start_date` |
| –¢–∏–ø –≤–≤–æ–¥–∞ | –ö–Ω–æ–ø–∫–∏ |
| –í–∞—Ä–∏–∞–Ω—Ç—ã | –°–µ–≥–æ–¥–Ω—è, –ó–∞–≤—Ç—Ä–∞, –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | `marathon_start_date` |

**–°–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:**
```
üóì *–ö–æ–≥–¥–∞ –Ω–∞—á–Ω—ë–º –º–∞—Ä–∞—Ñ–æ–Ω?*

14-–¥–Ω–µ–≤–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω

[üöÄ –°–µ–≥–æ–¥–Ω—è]
[üìÖ –ó–∞–≤—Ç—Ä–∞ (25.01)]
[üìÖ –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ (26.01)]
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

| –ö–Ω–æ–ø–∫–∞ | Callback | –î–∞—Ç–∞ |
|--------|----------|------|
| üöÄ –°–µ–≥–æ–¥–Ω—è | `start_today` | `moscow_today()` |
| üìÖ –ó–∞–≤—Ç—Ä–∞ | `start_tomorrow` | `today + 1 –¥–µ–Ω—å` |
| üìÖ –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ | `start_day_after` | `today + 2 –¥–Ω—è` |

---

## 4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å–≤–æ–¥–∫–æ–π

```
üìã *–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å:*

üë§ *–ò–º—è:* {name}
üíº *–ó–∞–Ω—è—Ç–∏–µ:* {occupation}
üé® *–ò–Ω—Ç–µ—Ä–µ—Å—ã:* {interests_list}

üí´ *–ß—Ç–æ –≤–∞–∂–Ω–æ:* {motivation}
üéØ *–ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å:* {goals}

‚ö° 5 –º–∏–Ω—É—Ç –Ω–∞ —Ç–µ–º—É
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ 09:05
üóì –°—Ç–∞—Ä—Ç –º–∞—Ä–∞—Ñ–æ–Ω–∞: *25.01.2025*

–í—Å—ë –≤–µ—Ä–Ω–æ?

[–î–∞] [üîÑ]
```

### –ö–Ω–æ–ø–∫–∞ "–î–∞"

- Callback: `confirm`
- –î–µ–π—Å—Ç–≤–∏–µ: `onboarding_completed = TRUE`
- –ü–µ—Ä–µ—Ö–æ–¥: —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

### –ö–Ω–æ–ø–∫–∞ "üîÑ" (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)

- Callback: `restart`
- –î–µ–π—Å—Ç–≤–∏–µ: –≤–æ–∑–≤—Ä–∞—Ç –∫ —à–∞–≥—É 1
- –î–∞–Ω–Ω—ã–µ –≤ –ë–î **–Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è**, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

---

## 5. –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

```
üéâ *Welcome to the Marathon, {name}!*

14 days from casual learner to systematic practitioner.
üìÖ 14 days ‚Äî 2 topics per day (theory + practice)
‚è± 5 minutes per topic
‚è∞ Daily reminders at 09:05

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üéâ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞—Ä–∞—Ñ–æ–Ω, {name}!*

14 –¥–Ω–µ–π –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ –∫ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É.
üìÖ 14 –¥–Ω–µ–π ‚Äî –ø–æ 2 —Ç–µ–º—ã –≤ –¥–µ–Ω—å (—É—Ä–æ–∫ + –∑–∞–¥–∞–Ω–∏–µ)
‚è± 5 –º–∏–Ω—É—Ç –Ω–∞ –∫–∞–∂–¥—É—é —Ç–µ–º—É
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:05

üóì –î–µ–Ω—å 1 –∏–∑ 14

[–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å] [–ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é]
```

---

## 6. –°–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

| –®–∞–≥ | –ü–æ–ª–µ –ë–î | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä |
|-----|---------|-----|--------|
| 1 | `name` | TEXT | "–ò–≤–∞–Ω" |
| 1 | `language` | TEXT | "ru" |
| 2 | `occupation` | TEXT | "—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫" |
| 3 | `interests` | JSON | `["–≥–æ–ª—å—Ñ", "—á—Ç–µ–Ω–∏–µ"]` |
| 4 | `motivation` | TEXT | "–•–æ—á—É –±—ã—Ç—å –ª—É—á—à–µ" |
| 5 | `goals` | TEXT | "–†–∞–∑–≤–∏—Ç—å –Ω–∞–≤—ã–∫–∏" |
| 6 | `study_duration` | INTEGER | 5, 15 –∏–ª–∏ 25 |
| 7 | `schedule_time` | TEXT | "09:05" |
| 8 | `marathon_start_date` | DATE | "2025-01-25" |
| 9 | `onboarding_completed` | BOOLEAN | TRUE |

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º `/start`:
```sql
INSERT INTO interns (chat_id) VALUES ({chat_id}) ON CONFLICT DO NOTHING
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:
```sql
UPDATE interns SET {field} = {value}, updated_at = NOW() WHERE chat_id = {chat_id}
```

---

## 7. –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏

### –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

–ï—Å–ª–∏ `onboarding_completed = TRUE`:

```
–£—á–µ–Ω–∏–∫ ‚Üí /start

–ë–æ—Ç ‚Üí "–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {name}!"

      /learn ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É
      /progress ‚Äî –º–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
      /profile ‚Äî –º–æ–π –ø—Ä–æ—Ñ–∏–ª—å
      /update ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      /mode ‚Äî –≤—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º
```

### –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

```
–£—á–µ–Ω–∏–∫ ‚Üí "25:70"

–ë–æ—Ç ‚Üí "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ (–ß–ß:–ú–ú)"
      FSM –æ—Å—Ç–∞—ë—Ç—Å—è –≤ waiting_for_schedule
```

---

## 8. FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è

```python
class OnboardingStates(StatesGroup):
    waiting_for_name = State()           # –®–∞–≥ 1
    waiting_for_occupation = State()     # –®–∞–≥ 2
    waiting_for_interests = State()      # –®–∞–≥ 3
    waiting_for_motivation = State()     # –®–∞–≥ 4
    waiting_for_goals = State()          # –®–∞–≥ 5
    waiting_for_study_duration = State() # –®–∞–≥ 6
    waiting_for_schedule = State()       # –®–∞–≥ 7
    waiting_for_start_date = State()     # –®–∞–≥ 8
    confirming_profile = State()         # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
```

---

## 9. –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|--------|-----------|
| `bot.py` | 216-227 | FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è |
| `bot.py` | 1367-1601 | –í—Å–µ —Ö—ç–Ω–¥–ª–µ—Ä—ã –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ |
| `bot.py` | 1255-1340 | –§—É–Ω–∫—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä |
| `db/queries/users.py` | ‚Äî | –†–∞–±–æ—Ç–∞ —Å –ë–î |
| `locales.py` | 769-787 | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ |
| `locales.py` | 12-759 | –í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã |

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| 2026-01-22 | –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
